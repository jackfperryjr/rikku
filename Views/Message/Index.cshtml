@model IEnumerable<Rikku.Models.ApplicationUserViewModel>
@using Rikku.Models
@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@{
    var user = await UserManager.GetUserAsync(User);
}
<h3 class="ffapp" style="position:fixed;left:0;background-color:#000000;padding:0 0 5px 40%;width:100vw;background-color: rgba(0,0,0,.9);">messages</h3>
<div class="container" style="padding-top:40px;">
    <div class="container"> 
    @foreach (var users in Model) 
    {
        @if(users.Email != user.Email)
            {
                <a asp-action="Chat" asp-route-id="@users.Id">
                    <div class="row" style="margin-bottom:10px;">
                        <div class="col-xs-3" style="margin:0 auto;">
                        @if(users.MessageReadFlg == 0)
                        {
                            <i class="fas fa-circle" style="color:#1e88e5;padding-top:25px;"></i>
                        }
                        @if(users.MessageReadFlg == 1) 
                        {
                            <i class="far fa-circle" style="color:#ffffff;padding-top:25px;"></i>
                        }
                        </div>
                        <div class="col-xs-3" style="margin:0 auto;">
                            <img class="user-img-md" src="@users.Picture" style="border-radius:50%;margin-right: 10px;width:70px;height70px;">
                        </div>
                        <div class="col-xs-7" style="margin:0 auto;padding-top:15px">
                            <span style="font-size: 16px;">@users.CreateDate.ToShortDateString()</span><br/>
                        </div>
                    </div>
                </a>
            }
    }
    </div>
</div>